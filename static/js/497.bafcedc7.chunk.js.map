{"version":3,"file":"static/js/497.bafcedc7.chunk.js","mappings":"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","sources":["pages/todolist/components/addTask.js","pages/todolist/components/button.js","pages/todolist/components/header.js","pages/todolist/components/task.js","pages/todolist/components/tasks.js","pages/todolist/index.js"],"sourcesContent":["import { useState } from \"react\"\r\n\r\nconst AddTask = ({ onAddTask }) => {\r\n  const [text, setText] = useState()\r\n  const [day, setDay] = useState()\r\n  const [reminder, setReminder] = useState(false)\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault()\r\n    if (!text) {\r\n      alert('please input task')\r\n      return\r\n    }\r\n    onAddTask({ text, day, reminder })\r\n    setText('')\r\n    setDay('')\r\n    setReminder(false)\r\n  }\r\n\r\n  return (\r\n    <form className=\"add-form\" onSubmit={(e) => onSubmit(e)}>\r\n      <div className=\"form-control\">\r\n        <label>Task</label>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Add task\"\r\n          value={text}\r\n          onChange={(e) => setText(e.target.value)} />\r\n      </div>\r\n      <div className=\"form-control\">\r\n        <label>Date&Time</label>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Add date&time\"\r\n          value={day}\r\n          onChange={(e) => setDay(e.target.value)} />\r\n      </div>\r\n      <div className=\"form-control form-control-check\">\r\n        <label>Set Reminder</label>\r\n        <input\r\n          type=\"checkbox\"\r\n          checked={reminder}\r\n          onChange={(e) => setReminder(e.currentTarget.checked)} />\r\n      </div>\r\n      <input className=\"btn btn-block\" type=\"submit\" value='Save task' />\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default AddTask","import PropTypes from 'prop-types'\r\nconst Button = ({ color, text, onClick }) => {\r\n  return (\r\n    <button\r\n      className='btn'\r\n      style={{ backgroundColor: color }}\r\n      onClick={onClick}>{text}</button>\r\n  )\r\n}\r\n\r\nButton.defaultProps = {\r\n  color: 'steelblue',\r\n}\r\n\r\nButton.propTypes = {\r\n  text: PropTypes.string,\r\n  color: PropTypes.string,\r\n  onClick: PropTypes.func,\r\n}\r\n\r\nexport default Button","import Button from './button'\r\n\r\nconst Header = ({ onAdd, showAdd }) => {\r\n  return (\r\n    <header className='header'>\r\n      <h1 style={{ fontSize: '40px', margin: 0 }}>Task Tracker</h1>\r\n      <Button\r\n        onClick={onAdd}\r\n        color={showAdd ? 'red' : '#1890ff'}\r\n        text={showAdd ? 'Close' : 'Add'} />\r\n    </header>\r\n  )\r\n}\r\n\r\n\r\nexport default Header","import { FaTimes } from 'react-icons/fa'\r\n\r\nconst Task = ({ task, onDelete, onToggle }) => {\r\n  return (\r\n    <div className={`task ${task.reminder ? 'reminder' : ''}`} onDoubleClick={() => onToggle(task.id)}>\r\n      <h3>{task.text}\r\n        <FaTimes\r\n          style={{ color: 'red', cursor: 'pointer' }}\r\n          onClick={() => onDelete(task.id)} />\r\n      </h3>\r\n      <p>{task.day}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Task","import Task from \"./task\"\r\n\r\nconst Tasks = ({ tasks, onDelete, onToggle }) => {\r\n\r\n  return (\r\n    <>\r\n      {tasks.map((item) => <Task key={item.id} task={item} onDelete={onDelete} onToggle={onToggle} />)}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Tasks","import React from 'react'\r\nimport '@/pages/todolist/index.scss'\r\nimport AddTask from '@/pages/todolist/components/addTask'\r\nimport Header from '@/pages/todolist/components/header'\r\nimport Tasks from '@/pages/todolist/components/tasks'\r\nimport { useEffect, useState } from \"react\"\r\nimport { http } from '@/utils'\r\n\r\n\r\nconst ToDoList = () => {\r\n  const [showAddTask, setShowAddTask] = useState(true)\r\n  const [tasks, setTasks] = useState([])\r\n\r\n  //useEffect监听渲染数据\r\n  useEffect(() => {\r\n    const getTasks = async () => {\r\n      const tasksFromServer = await fetchTasks()\r\n      setTasks(tasksFromServer)\r\n    }\r\n    getTasks()\r\n  }, [])\r\n\r\n  //从服务器获取所有数据\r\n  const fetchTasks = async () => {\r\n    const res = await http.get('/todolist')\r\n    const data = res.data.tasks\r\n    return data\r\n  }\r\n\r\n\r\n  //从服务器获取单个数据\r\n  const fetchTask = async (id) => {\r\n    const res = await http.get(`/todolist/${id}`)\r\n    //console.log(res)\r\n    const data = await res.data.tasks\r\n    //console.log(data)\r\n    return data\r\n  }\r\n\r\n  //从服务器删除\r\n  const deleteTask = async (id) => {\r\n    await http.delete(`/todolist/${id}`)\r\n    setTasks(tasks.filter(item => item.id !== id))\r\n  }\r\n\r\n  //服务器reminder切换\r\n  const toggleReminder = async (id) => {\r\n    const res = await fetchTask(id) //拿到单个task数据\r\n    const taskToggle = res[0]\r\n    //console.log(taskToggle)\r\n    const updTask = { ...taskToggle, reminder: !taskToggle.reminder } //把单个task的reminder切换\r\n    //console.log(updTask)\r\n\r\n    //把修改好的数据写回服务器\r\n    await http.put(`/todolist/${id}`, { ...updTask, id: id })\r\n    const renewTasks = await fetchTasks()\r\n    //console.log(renewTasks)\r\n    setTasks(renewTasks)\r\n  }\r\n\r\n\r\n  //添加数据到服务器，id数据库会自动添加\r\n  const onAddTask = async (task) => {\r\n    const res = await http.post('/todolist', { ...task })\r\n    console.log(res)\r\n    //把新增的数据返回\r\n    const data = await res.data.tasks[0]\r\n    setTasks([data, ...tasks])\r\n  }\r\n\r\n  return (\r\n    <div className='todolistscss'>\r\n      <div className=\"container-todolist\">\r\n        <Header\r\n          onAdd={() => { setShowAddTask(!showAddTask) }}\r\n          showAdd={showAddTask} />\r\n        {\r\n          <>\r\n            {showAddTask && <AddTask onAddTask={onAddTask} />}\r\n            {tasks.length > 0 ? <Tasks tasks={tasks} onDelete={deleteTask} onToggle={toggleReminder} />\r\n              : 'No Task'}\r\n          </>\r\n        }\r\n      </div>\r\n    </div>\r\n\r\n\r\n  )\r\n}\r\n\r\nexport default ToDoList"],"names":["onAddTask","useState","text","setText","day","setDay","reminder","setReminder","className","onSubmit","e","preventDefault","alert","type","placeholder","value","onChange","target","checked","currentTarget","Button","color","onClick","style","backgroundColor","defaultProps","onAdd","showAdd","fontSize","margin","task","onDelete","onToggle","onDoubleClick","id","cursor","tasks","map","item","showAddTask","setShowAddTask","setTasks","useEffect","getTasks","fetchTasks","tasksFromServer","http","res","data","fetchTask","deleteTask","filter","toggleReminder","taskToggle","updTask","renewTasks","console","log","length"],"sourceRoot":""}