"use strict";(self.webpackChunkreact_blog_yy=self.webpackChunkreact_blog_yy||[]).push([[548],{7686:function(e,n,t){t.r(n),t.d(n,{default:function(){return h}});var r=t(5861),a=t(7757),i=t.n(a),o=(t(2791),t(3775)),l=t(9004),s=t(3272),u=t(8678),c=t(2014),d=t(7309),f=t.p+"static/media/logo.084203022add6e14e025.png",p=t(6525),v=t(6871),m=t(184),h=function(){var e=(0,p.o)().loginStore,n=(0,v.s0)(),t=function(){var t=(0,r.Z)(i().mark((function t(r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getToken({username:r.username,password:r.password});case 3:n("/",{replace:!0}),o.ZP.success("login success"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),o.ZP.error(t.t0.response.data||"login fail");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return(0,m.jsx)("div",{className:"login",children:(0,m.jsxs)(l.Z,{className:"login-container",children:[(0,m.jsx)("img",{className:"login-logo",src:f,alt:""}),(0,m.jsxs)(s.Z,{labelCol:{span:8},validateTrigger:["onBlur","onChange"],initialValues:{remember:!0},onFinish:t,children:[(0,m.jsx)(s.Z.Item,{label:"Mobile number",name:"username",rules:[{required:!0,message:"Please input my number: 0426580613"},{pattern:/^(?:\+?61|0)[2-478](?:[ -]?[0-9]){8}$/,message:"Wrong mobile number",validateTrigger:"onBlur"}],children:(0,m.jsx)(u.Z,{size:"large",initialvalues:"0426580613",placeholder:"0426580613"})}),(0,m.jsx)(s.Z.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input this password: 246810"},{len:6,message:"Password is 6 digits",validateTrigger:"onBlur"}],children:(0,m.jsx)(u.Z,{size:"large",initialvalues:"246810",placeholder:"246810"})}),(0,m.jsx)(s.Z.Item,{wrapperCol:{offset:8},name:"remember",valuePropName:"checked",children:(0,m.jsx)(c.Z,{className:"login-checkbox-label",children:"Agree to our Privacy Policy"})}),(0,m.jsx)(s.Z.Item,{children:(0,m.jsx)(d.Z,{type:"primary",htmlType:"submit",size:"large",block:!0,children:"Login"})})]})]})})}},6525:function(e,n,t){t.d(n,{o:function(){return g}});var r=t(3144),a=t(5671),i=t(2791),o=t(5861),l=t(7757),s=t.n(l),u=t(4098),c=t(8881),d=(0,r.Z)((function e(){var n=this;(0,a.Z)(this,e),this.token=(0,c.LP)()||"",this.getToken=function(){var e=(0,o.Z)(s().mark((function e(t){var r,a,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,a=t.password,e.next=3,c.dJ.post("/api/login",{username:r,password:a});case 3:i=e.sent,n.token=i.data.token,(0,c.o4)(n.token);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.loginOut=function(){n.token="",(0,c.gy)()},(0,u.ky)(this)})),f=d,p=(0,r.Z)((function e(){var n=this;(0,a.Z)(this,e),this.userInfo={},this.getUserInfo=(0,o.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.dJ.get("my/userinfo");case 2:t=e.sent,n.userInfo=t.data;case 4:case"end":return e.stop()}}),e)}))),(0,u.ky)(this)})),v=(0,r.Z)((function e(){var n=this;(0,a.Z)(this,e),this.channelList=[],this.loadChannelList=(0,o.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.dJ.get("/my/channels");case 2:t=e.sent,n.channelList=t.data.data;case 4:case"end":return e.stop()}}),e)}))),(0,u.ky)(this)})),m=new((0,r.Z)((function e(){(0,a.Z)(this,e),this.loginStore=new f,this.userStore=new p,this.channelStore=new v}))),h=i.createContext(m),g=function(){return i.useContext(h)}},2014:function(e,n,t){t.d(n,{Z:function(){return O}});var r=t(4942),a=t(7462),i=t(2791),o=t(1694),l=t.n(o),s=t(8083),u=t(1940),c=t(3433),d=t(9439),f=t(1818),p=t(9077),v=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},m=i.createContext(null),h=function(e,n){var t=e.defaultValue,o=e.children,s=e.options,u=void 0===s?[]:s,h=e.prefixCls,g=e.className,b=e.style,x=e.onChange,y=v(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),Z=i.useContext(p.E_),k=Z.getPrefixCls,C=Z.direction,O=i.useState(y.value||t||[]),j=(0,d.Z)(O,2),P=j[0],E=j[1],N=i.useState([]),I=(0,d.Z)(N,2),S=I[0],V=I[1];i.useEffect((function(){"value"in y&&E(y.value||[])}),[y.value]);var _=function(){return u.map((function(e){return"string"===typeof e||"number"===typeof e?{label:e,value:e}:e}))},L=k("checkbox",h),M="".concat(L,"-group"),T=(0,f.Z)(y,["value","disabled"]);u&&u.length>0&&(o=_().map((function(e){return i.createElement(w,{prefixCls:L,key:e.value.toString(),disabled:"disabled"in e?e.disabled:y.disabled,value:e.value,checked:-1!==P.indexOf(e.value),onChange:e.onChange,className:"".concat(M,"-item"),style:e.style},e.label)})));var B={toggleOption:function(e){var n=P.indexOf(e.value),t=(0,c.Z)(P);-1===n?t.push(e.value):t.splice(n,1),"value"in y||E(t);var r=_();null===x||void 0===x||x(t.filter((function(e){return-1!==S.indexOf(e)})).sort((function(e,n){return r.findIndex((function(n){return n.value===e}))-r.findIndex((function(e){return e.value===n}))})))},value:P,disabled:y.disabled,name:y.name,registerValue:function(e){V((function(n){return[].concat((0,c.Z)(n),[e])}))},cancelValue:function(e){V((function(n){return n.filter((function(n){return n!==e}))}))}},z=l()(M,(0,r.Z)({},"".concat(M,"-rtl"),"rtl"===C),g);return i.createElement("div",(0,a.Z)({className:z,style:b},T,{ref:n}),i.createElement(m.Provider,{value:B},o))},g=i.forwardRef(h),b=i.memo(g),x=t(4824),y=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},Z=function(e,n){var t,o=e.prefixCls,c=e.className,d=e.children,f=e.indeterminate,v=void 0!==f&&f,h=e.style,g=e.onMouseEnter,b=e.onMouseLeave,Z=e.skipGroup,k=void 0!==Z&&Z,w=y(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),C=i.useContext(p.E_),O=C.getPrefixCls,j=C.direction,P=i.useContext(m),E=(0,i.useContext)(u.aM).isFormItemInput,N=i.useRef(w.value);i.useEffect((function(){null===P||void 0===P||P.registerValue(w.value),(0,x.Z)("checked"in w||!!P||!("value"in w),"Checkbox","`value` is not a valid prop, do you mean `checked`?")}),[]),i.useEffect((function(){if(!k)return w.value!==N.current&&(null===P||void 0===P||P.cancelValue(N.current),null===P||void 0===P||P.registerValue(w.value),N.current=w.value),function(){return null===P||void 0===P?void 0:P.cancelValue(w.value)}}),[w.value]);var I=O("checkbox",o),S=(0,a.Z)({},w);P&&!k&&(S.onChange=function(){w.onChange&&w.onChange.apply(w,arguments),P.toggleOption&&P.toggleOption({label:d,value:w.value})},S.name=P.name,S.checked=-1!==P.value.indexOf(w.value),S.disabled=w.disabled||P.disabled);var V=l()((t={},(0,r.Z)(t,"".concat(I,"-wrapper"),!0),(0,r.Z)(t,"".concat(I,"-rtl"),"rtl"===j),(0,r.Z)(t,"".concat(I,"-wrapper-checked"),S.checked),(0,r.Z)(t,"".concat(I,"-wrapper-disabled"),S.disabled),(0,r.Z)(t,"".concat(I,"-wrapper-in-form-item"),E),t),c),_=l()((0,r.Z)({},"".concat(I,"-indeterminate"),v)),L=v?"mixed":void 0;return i.createElement("label",{className:V,style:h,onMouseEnter:g,onMouseLeave:b},i.createElement(s.Z,(0,a.Z)({"aria-checked":L},S,{prefixCls:I,className:_,ref:n})),void 0!==d&&i.createElement("span",null,d))},k=i.forwardRef(Z);k.displayName="Checkbox";var w=k,C=w;C.Group=b,C.__ANT_CHECKBOX=!0;var O=C}}]);
//# sourceMappingURL=548.fb69d0eb.chunk.js.map