"use strict";(self.webpackChunkreact_blog_yy=self.webpackChunkreact_blog_yy||[]).push([[497],{1497:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r=n(3433),s=n(1413),a=n(5861),c=n(9439),o=n(7757),u=n.n(o),i=n(2791),l=n(184),d=function(e){var t=e.onAddTask,n=(0,i.useState)(),r=(0,c.Z)(n,2),s=r[0],a=r[1],o=(0,i.useState)(),u=(0,c.Z)(o,2),d=u[0],f=u[1],p=(0,i.useState)(!1),x=(0,c.Z)(p,2),h=x[0],v=x[1];return(0,l.jsxs)("form",{className:"add-form",onSubmit:function(e){return function(e){e.preventDefault(),s?(t({text:s,day:d,reminder:h}),a(""),f(""),v(!1)):alert("please input task")}(e)},children:[(0,l.jsxs)("div",{className:"form-control",children:[(0,l.jsx)("label",{children:"Task"}),(0,l.jsx)("input",{type:"text",placeholder:"Add task",value:s,onChange:function(e){return a(e.target.value)}})]}),(0,l.jsxs)("div",{className:"form-control",children:[(0,l.jsx)("label",{children:"Date&Time"}),(0,l.jsx)("input",{type:"text",placeholder:"Add date&time",value:d,onChange:function(e){return f(e.target.value)}})]}),(0,l.jsxs)("div",{className:"form-control form-control-check",children:[(0,l.jsx)("label",{children:"Set Reminder"}),(0,l.jsx)("input",{type:"checkbox",checked:h,onChange:function(e){return v(e.currentTarget.checked)}})]}),(0,l.jsx)("input",{className:"btn btn-block",type:"submit",value:"Save task"})]})},f=function(e){var t=e.color,n=e.text,r=e.onClick;return(0,l.jsx)("button",{className:"btn",style:{backgroundColor:t},onClick:r,children:n})};f.defaultProps={color:"steelblue"};var p=f,x=function(e){var t=e.onAdd,n=e.showAdd;return(0,l.jsxs)("header",{className:"header",children:[(0,l.jsx)("h1",{style:{fontSize:"40px",margin:0},children:"Task Tracker"}),(0,l.jsx)(p,{onClick:t,color:n?"red":"#1890ff",text:n?"Close":"Add"})]})},h=n(9135),v=function(e){var t=e.task,n=e.onDelete,r=e.onToggle;return(0,l.jsxs)("div",{className:"task ".concat(t.reminder?"reminder":""),onDoubleClick:function(){return r(t.id)},children:[(0,l.jsxs)("h3",{children:[t.text,(0,l.jsx)(h.aHS,{style:{color:"red",cursor:"pointer"},onClick:function(){return n(t.id)}})]}),(0,l.jsx)("p",{children:t.day})]})},k=function(e){var t=e.tasks,n=e.onDelete,r=e.onToggle;return(0,l.jsx)(l.Fragment,{children:t.map((function(e){return(0,l.jsx)(v,{task:e,onDelete:n,onToggle:r},e.id)}))})},m=n(8881),j=function(){var e=(0,i.useState)(!0),t=(0,c.Z)(e,2),n=t[0],o=t[1],f=(0,i.useState)([]),p=(0,c.Z)(f,2),h=p[0],v=p[1];(0,i.useEffect)((function(){var e=function(){var e=(0,a.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:t=e.sent,v(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var j=function(){var e=(0,a.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.dJ.get("/todolist");case 2:return t=e.sent,n=t.data.tasks,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,a.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.dJ.get("/todolist/".concat(t));case 2:return n=e.sent,e.next=5,n.data.tasks;case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=(0,a.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.dJ.delete("/todolist/".concat(t));case 2:v(h.filter((function(e){return e.id!==t})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,a.Z)(u().mark((function e(t){var n,r,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:return n=e.sent,r=n[0],a=(0,s.Z)((0,s.Z)({},r),{},{reminder:!r.reminder}),e.next=7,m.dJ.put("/todolist/".concat(t),(0,s.Z)((0,s.Z)({},a),{},{id:t}));case 7:return e.next=9,j();case 9:c=e.sent,v(c);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,a.Z)(u().mark((function e(t){var n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.dJ.post("/todolist",(0,s.Z)({},t));case 2:return n=e.sent,console.log(n),e.next=6,n.data.tasks[0];case 6:a=e.sent,v([a].concat((0,r.Z)(h)));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,l.jsx)("div",{className:"todolistscss",children:(0,l.jsxs)("div",{className:"container-todolist",children:[(0,l.jsx)(x,{onAdd:function(){o(!n)},showAdd:n}),(0,l.jsxs)(l.Fragment,{children:[n&&(0,l.jsx)(d,{onAddTask:Z}),h.length>0?(0,l.jsx)(k,{tasks:h,onDelete:b,onToggle:y}):"No Task"]})]})})}}}]);
//# sourceMappingURL=497.bafcedc7.chunk.js.map