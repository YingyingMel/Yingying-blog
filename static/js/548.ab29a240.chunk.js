"use strict";(self.webpackChunkreact_blog_yy=self.webpackChunkreact_blog_yy||[]).push([[548],{7686:function(e,n,t){t.r(n),t.d(n,{default:function(){return h}});var r=t(5861),a=t(4687),i=t.n(a),s=(t(2791),t(3775)),o=t(7305),l=t(6675),u=t(8678),c=t(2014),d=t(7309),f=t.p+"static/media/logo.084203022add6e14e025.png",p=t(6525),v=t(6871),m=t(184),h=function(){var e=(0,p.o)().loginStore,n=(0,v.s0)(),t=function(){var t=(0,r.Z)(i().mark((function t(r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getToken({username:r.username,password:r.password});case 3:n("/",{replace:!0}),s.ZP.success("login success"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),s.ZP.error(t.t0.response.data||"login fail");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return(0,m.jsx)("div",{className:"login",children:(0,m.jsxs)(o.Z,{className:"login-container",children:[(0,m.jsx)("img",{className:"login-logo",src:f,alt:""}),(0,m.jsxs)(l.Z,{labelCol:{span:8},validateTrigger:["onBlur","onChange"],initialValues:{remember:!0},onFinish:t,children:[(0,m.jsx)(l.Z.Item,{label:"Mobile number",name:"username",rules:[{required:!0,message:"Please input my number: 0426580613"},{pattern:/^(?:\+?61|0)[2-478](?:[ -]?[0-9]){8}$/,message:"Wrong mobile number",validateTrigger:"onBlur"}],children:(0,m.jsx)(u.Z,{size:"large",initialvalues:"0426580613",placeholder:"0426580613"})}),(0,m.jsx)(l.Z.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input this password: 246810"},{len:6,message:"Password is 6 digits",validateTrigger:"onBlur"}],children:(0,m.jsx)(u.Z,{size:"large",initialvalues:"246810",placeholder:"246810"})}),(0,m.jsx)(l.Z.Item,{wrapperCol:{offset:8},name:"remember",valuePropName:"checked",children:(0,m.jsx)(c.Z,{className:"login-checkbox-label",children:"Agree to our Privacy Policy"})}),(0,m.jsx)(l.Z.Item,{children:(0,m.jsx)(d.Z,{type:"primary",htmlType:"submit",size:"large",block:!0,children:"Login"})})]})]})})}},6525:function(e,n,t){t.d(n,{o:function(){return g}});var r=t(3144),a=t(5671),i=t(2791),s=t(5861),o=t(4687),l=t.n(o),u=t(4098),c=t(8881),d=(0,r.Z)((function e(){var n=this;(0,a.Z)(this,e),this.token=(0,c.LP)()||"",this.getToken=function(){var e=(0,s.Z)(l().mark((function e(t){var r,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,a=t.password,e.next=3,c.dJ.post("/api/login",{username:r,password:a});case 3:i=e.sent,n.token=i.data.token,(0,c.o4)(n.token);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.loginOut=function(){n.token="",(0,c.gy)()},(0,u.ky)(this)})),f=d,p=(0,r.Z)((function e(){var n=this;(0,a.Z)(this,e),this.userInfo={},this.getUserInfo=(0,s.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.dJ.get("my/userinfo");case 2:t=e.sent,n.userInfo=t.data;case 4:case"end":return e.stop()}}),e)}))),(0,u.ky)(this)})),v=(0,r.Z)((function e(){var n=this;(0,a.Z)(this,e),this.channelList=[],this.loadChannelList=(0,s.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.dJ.get("/my/channels");case 2:t=e.sent,n.channelList=t.data.data;case 4:case"end":return e.stop()}}),e)}))),(0,u.ky)(this)})),m=new((0,r.Z)((function e(){(0,a.Z)(this,e),this.loginStore=new f,this.userStore=new p,this.channelStore=new v}))),h=i.createContext(m),g=function(){return i.useContext(h)}},2014:function(e,n,t){t.d(n,{Z:function(){return k}});var r=t(4942),a=t(7462),i=t(1694),s=t.n(i),o=t(8083),l=t(2791),u=t(1929),c=t(1940),d=t(3433),f=t(9439),p=t(1818),v=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},m=l.createContext(null),h=function(e,n){var t=e.defaultValue,i=e.children,o=e.options,c=void 0===o?[]:o,h=e.prefixCls,g=e.className,b=e.style,x=e.onChange,y=v(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),w=l.useContext(u.E_),k=w.getPrefixCls,C=w.direction,O=l.useState(y.value||t||[]),j=(0,f.Z)(O,2),P=j[0],E=j[1],N=l.useState([]),I=(0,f.Z)(N,2),S=I[0],V=I[1];l.useEffect((function(){"value"in y&&E(y.value||[])}),[y.value]);var _=function(){return c.map((function(e){return"string"===typeof e||"number"===typeof e?{label:e,value:e}:e}))},L=k("checkbox",h),M="".concat(L,"-group"),T=(0,p.Z)(y,["value","disabled"]);c&&c.length>0&&(i=_().map((function(e){return l.createElement(Z,{prefixCls:L,key:e.value.toString(),disabled:"disabled"in e?e.disabled:y.disabled,value:e.value,checked:-1!==P.indexOf(e.value),onChange:e.onChange,className:"".concat(M,"-item"),style:e.style},e.label)})));var B={toggleOption:function(e){var n=P.indexOf(e.value),t=(0,d.Z)(P);-1===n?t.push(e.value):t.splice(n,1),"value"in y||E(t);var r=_();null===x||void 0===x||x(t.filter((function(e){return-1!==S.indexOf(e)})).sort((function(e,n){return r.findIndex((function(n){return n.value===e}))-r.findIndex((function(e){return e.value===n}))})))},value:P,disabled:y.disabled,name:y.name,registerValue:function(e){V((function(n){return[].concat((0,d.Z)(n),[e])}))},cancelValue:function(e){V((function(n){return n.filter((function(n){return n!==e}))}))}},z=s()(M,(0,r.Z)({},"".concat(M,"-rtl"),"rtl"===C),g);return l.createElement("div",(0,a.Z)({className:z,style:b},T,{ref:n}),l.createElement(m.Provider,{value:B},i))},g=l.forwardRef(h),b=l.memo(g),x=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},y=function(e,n){var t,i=e.prefixCls,d=e.className,f=e.children,p=e.indeterminate,v=void 0!==p&&p,h=e.style,g=e.onMouseEnter,b=e.onMouseLeave,y=e.skipGroup,Z=void 0!==y&&y,w=x(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),k=l.useContext(u.E_),C=k.getPrefixCls,O=k.direction,j=l.useContext(m),P=(0,l.useContext)(c.aM).isFormItemInput,E=l.useRef(w.value);l.useEffect((function(){null===j||void 0===j||j.registerValue(w.value)}),[]),l.useEffect((function(){if(!Z)return w.value!==E.current&&(null===j||void 0===j||j.cancelValue(E.current),null===j||void 0===j||j.registerValue(w.value),E.current=w.value),function(){return null===j||void 0===j?void 0:j.cancelValue(w.value)}}),[w.value]);var N=C("checkbox",i),I=(0,a.Z)({},w);j&&!Z&&(I.onChange=function(){w.onChange&&w.onChange.apply(w,arguments),j.toggleOption&&j.toggleOption({label:f,value:w.value})},I.name=j.name,I.checked=-1!==j.value.indexOf(w.value),I.disabled=w.disabled||j.disabled);var S=s()((t={},(0,r.Z)(t,"".concat(N,"-wrapper"),!0),(0,r.Z)(t,"".concat(N,"-rtl"),"rtl"===O),(0,r.Z)(t,"".concat(N,"-wrapper-checked"),I.checked),(0,r.Z)(t,"".concat(N,"-wrapper-disabled"),I.disabled),(0,r.Z)(t,"".concat(N,"-wrapper-in-form-item"),P),t),d),V=s()((0,r.Z)({},"".concat(N,"-indeterminate"),v)),_=v?"mixed":void 0;return l.createElement("label",{className:S,style:h,onMouseEnter:g,onMouseLeave:b},l.createElement(o.Z,(0,a.Z)({"aria-checked":_},I,{prefixCls:N,className:V,ref:n})),void 0!==f&&l.createElement("span",null,f))};var Z=l.forwardRef(y),w=Z;w.Group=b,w.__ANT_CHECKBOX=!0;var k=w}}]);
//# sourceMappingURL=548.ab29a240.chunk.js.map